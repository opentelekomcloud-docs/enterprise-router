:original_name: ListStaticRoutes.html

.. _ListStaticRoutes:

Querying Static Routes
======================

Function
--------

This API is used to query static routes.

Constraints
-----------

-  Pagination query is supported. The supported query criteria are **destination**, **attachment_id**, **resource_type**, and **type**.

-  Only sorting by a single field (**id**, **destination**, **created_at**, or **updated_at**) is supported.

URI
---

GET /v3/{project_id}/enterprise-router/route-tables/{route_table_id}/static-routes

.. table:: **Table 1** Path Parameters

   ============== ========= ====== ==============
   Parameter      Mandatory Type   Description
   ============== ========= ====== ==============
   project_id     Yes       String Project ID
   route_table_id Yes       String Route table ID
   ============== ========= ====== ==============

.. table:: **Table 2** Query Parameters

   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                                                         |
   +=================+=================+=================+=====================================================================================================================================================================+
   | limit           | No              | Integer         | Number of records on each page. Value range: **0** to **2000**                                                                                                      |
   |                 |                 |                 |                                                                                                                                                                     |
   |                 |                 |                 | Minimum: **0**                                                                                                                                                      |
   |                 |                 |                 |                                                                                                                                                                     |
   |                 |                 |                 | Maximum: **2000**                                                                                                                                                   |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | marker          | No              | String          | ID of the last enterprise router on the previous page. If this parameter is left blank, the first page is queried. This parameter must be used together with limit. |
   |                 |                 |                 |                                                                                                                                                                     |
   |                 |                 |                 | Minimum: **1**                                                                                                                                                      |
   |                 |                 |                 |                                                                                                                                                                     |
   |                 |                 |                 | Maximum: **128**                                                                                                                                                    |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | destination     | No              | Array           | Destination address of the route                                                                                                                                    |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | attachment_id   | No              | Array           | Attachment ID                                                                                                                                                       |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | resource_type   | No              | Array           | Attachment type.                                                                                                                                                    |
   |                 |                 |                 |                                                                                                                                                                     |
   |                 |                 |                 | -  **vpc**: VPC attachments                                                                                                                                         |
   |                 |                 |                 |                                                                                                                                                                     |
   |                 |                 |                 | -  **vgw**: virtual gateway attachments                                                                                                                             |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | sort_key        | No              | Array           | Keyword for sorting. The keyword can be **id**, **name**, or **state**. By default, **id** is used.                                                                 |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | sort_dir        | No              | Array           | Sorting order. There are two value options: **asc** (ascending order) and **desc** (descending order). The default value is **asc**.                                |
   +-----------------+-----------------+-----------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

None

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 3** Response body parameters

   +------------+------------------------------------------------------------------+------------------------------+
   | Parameter  | Type                                                             | Description                  |
   +============+==================================================================+==============================+
   | routes     | Array of :ref:`Route <liststaticroutes__response_route>` objects | Routes                       |
   +------------+------------------------------------------------------------------+------------------------------+
   | request_id | String                                                           | Request ID                   |
   +------------+------------------------------------------------------------------+------------------------------+
   | page_info  | :ref:`PageInfo <liststaticroutes__response_pageinfo>` object     | Pagination query information |
   +------------+------------------------------------------------------------------+------------------------------+

.. _liststaticroutes__response_route:

.. table:: **Table 4** Route

   +----------------+--------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | Parameter      | Type                                                                                 | Description                                                                                                       |
   +================+======================================================================================+===================================================================================================================+
   | id             | String                                                                               | Route ID                                                                                                          |
   +----------------+--------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | type           | String                                                                               | Route type. The value is **static**.                                                                              |
   +----------------+--------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | state          | String                                                                               | Route status. Value options: **pending**, **available**, **modifying**, **deleting**, **deleted**, and **failed** |
   +----------------+--------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | is_blackhole   | Boolean                                                                              | Whether the route is a blackhole route                                                                            |
   +----------------+--------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | destination    | String                                                                               | Destination address of the route                                                                                  |
   +----------------+--------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | attachments    | Array of :ref:`RouteAttachment <liststaticroutes__response_routeattachment>` objects | Next hops                                                                                                         |
   +----------------+--------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | route_table_id | String                                                                               | Route table ID                                                                                                    |
   +----------------+--------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | created_at     | String                                                                               | Creation time in the format YYYY-MM-DDTHH:mm:ss.sssZ                                                              |
   +----------------+--------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+
   | updated_at     | String                                                                               | Update time in the format YYYY-MM-DDTHH:mm:ss.sssZ                                                                |
   +----------------+--------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------+

.. _liststaticroutes__response_routeattachment:

.. table:: **Table 5** RouteAttachment

   +-----------------------+-----------------------+-----------------------------------------+
   | Parameter             | Type                  | Description                             |
   +=======================+=======================+=========================================+
   | resource_id           | String                | Attached resource ID                    |
   +-----------------------+-----------------------+-----------------------------------------+
   | resource_type         | String                | Attachment type.                        |
   |                       |                       |                                         |
   |                       |                       | -  **vpc**: VPC attachments             |
   |                       |                       |                                         |
   |                       |                       | -  **vgw**: virtual gateway attachments |
   +-----------------------+-----------------------+-----------------------------------------+
   | attachment_id         | String                | Attachment ID                           |
   +-----------------------+-----------------------+-----------------------------------------+

.. _liststaticroutes__response_pageinfo:

.. table:: **Table 6** PageInfo

   +---------------+---------+-------------------------------------------------------------------------------------------------------------------+
   | Parameter     | Type    | Description                                                                                                       |
   +===============+=========+===================================================================================================================+
   | next_marker   | String  | Marker of the next page. The value is the resource UUID. If the value is empty, the resource is on the last page. |
   +---------------+---------+-------------------------------------------------------------------------------------------------------------------+
   | current_count | Integer | Number of resources in the list                                                                                   |
   +---------------+---------+-------------------------------------------------------------------------------------------------------------------+

Example Requests
----------------

Querying static routes

.. code-block:: text

   GET https://{erouter_endpoint}/v3/08d5a9564a704afda6039ae2babbef3c/enterprise-router/route-tables/915a14a6-867b-4af7-83d1-70efceb146f5/static-routes

Example Responses
-----------------

**Status code: 200**

OK

.. code-block::

   {
     "routes" : [ {
       "id" : "9b3b38a9-1c9d-4f01-9429-81af6b545289",
       "type" : "static",
       "destination" : "192.168.0.0/16",
       "attachments" : [ {
         "resource_id" : "9c4ab06a-0ab4-4fad-93a8-f733f3a4433d",
         "resource_type" : "vpc",
         "attachment_id" : "9b3b38a9-1c9d-4f01-9429-81af6b545289"
       } ],
       "route_table_id" : "19d334b7-78c1-4e0e-ba29-b797e641e23c",
       "state" : "pending",
       "created_at" : "2020-03-11T15:13:31Z",
       "updated_at" : "2020-03-11T15:13:31Z"
     } ],
     "page_info" : {
       "next_marker" : "1",
       "current_count" : 1
     },
     "request_id" : "915a14a6-867b-4af7-83d1-70efceb146f9"
   }

Status Codes
------------

=========== ===========
Status Code Description
=========== ===========
200         OK
=========== ===========

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
