:original_name: UpdateAttachment.html

.. _UpdateAttachment:

Updating an Attachment
======================

Function
--------

This API is used to update basic information about an attachment.

URI
---

PUT /v3/{project_id}/enterprise-router/{er_id}/attachments/{attachment_id}

.. table:: **Table 1** Path Parameters

   ============= ========= ====== ====================
   Parameter     Mandatory Type   Description
   ============= ========= ====== ====================
   project_id    Yes       String Project ID
   er_id         Yes       String Enterprise router ID
   attachment_id Yes       String Attachment ID
   ============= ========= ====== ====================

Request Parameters
------------------

.. table:: **Table 2** Request body parameters

   +------------+-----------+-------------------------------------------------------------------------------------+------------------------------------------------+
   | Parameter  | Mandatory | Type                                                                                | Description                                    |
   +============+===========+=====================================================================================+================================================+
   | attachment | No        | :ref:`UpdateAttachmentBody <updateattachment__request_updateattachmentbody>` object | Change basic information about the attachment. |
   +------------+-----------+-------------------------------------------------------------------------------------+------------------------------------------------+

.. _updateattachment__request_updateattachmentbody:

.. table:: **Table 3** UpdateAttachmentBody

   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                                                          |
   +=================+=================+=================+======================================================================================================================================+
   | description     | No              | String          | Supplementary information about the attachment. The value contains a maximum of 36 characters in UUID format with hyphens (-).       |
   |                 |                 |                 |                                                                                                                                      |
   |                 |                 |                 | Minimum: **0**                                                                                                                       |
   |                 |                 |                 |                                                                                                                                      |
   |                 |                 |                 | Maximum: **255**                                                                                                                     |
   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------+
   | name            | No              | String          | Attachment name. The value can contain 1 to 64 characters, including letters, digits, underscores (_), hyphens (-), and periods (.). |
   |                 |                 |                 |                                                                                                                                      |
   |                 |                 |                 | Minimum: **1**                                                                                                                       |
   |                 |                 |                 |                                                                                                                                      |
   |                 |                 |                 | Maximum: **64**                                                                                                                      |
   +-----------------+-----------------+-----------------+--------------------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 4** Response body parameters

   +------------+----------------------------------------------------------------------------------+------------------------------+
   | Parameter  | Type                                                                             | Description                  |
   +============+==================================================================================+==============================+
   | attachment | :ref:`AttachmentResponse <updateattachment__response_attachmentresponse>` object | Attachment basic information |
   +------------+----------------------------------------------------------------------------------+------------------------------+
   | request_id | String                                                                           | Request ID                   |
   +------------+----------------------------------------------------------------------------------+------------------------------+

.. _updateattachment__response_attachmentresponse:

.. table:: **Table 5** AttachmentResponse

   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                         | Description                                                                                                                                                                                                    |
   +=======================+==============================================================+================================================================================================================================================================================================================+
   | name                  | String                                                       | Attachment name                                                                                                                                                                                                |
   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | id                    | String                                                       | Attachment ID                                                                                                                                                                                                  |
   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | description           | String                                                       | Supplementary information                                                                                                                                                                                      |
   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | state                 | String                                                       | Attachment status. Value options: **pending**, **available**, **modifying**, **deleting**, **deleted**, **failed**, **pending_acceptance**, **rejected**, **initiating_request**, **freezed**, or **invalid**. |
   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | created_at            | String                                                       | Creation time in the format YYYY-MM-DDTHH:mm:ss.sssZ                                                                                                                                                           |
   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | updated_at            | String                                                       | Update time in the format YYYY-MM-DDTHH:mm:ss.sssZ                                                                                                                                                             |
   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | tags                  | Array of :ref:`Tag <updateattachment__response_tag>` objects | Attachment tags.                                                                                                                                                                                               |
   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | project_id            | String                                                       | Project ID                                                                                                                                                                                                     |
   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | resource_id           | String                                                       | Attached resource ID on its own service console                                                                                                                                                                |
   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | resource_type         | String                                                       | Attachment type.                                                                                                                                                                                               |
   |                       |                                                              |                                                                                                                                                                                                                |
   |                       |                                                              | -  **vgw**: Direct Connect virtual gateway                                                                                                                                                                     |
   |                       |                                                              |                                                                                                                                                                                                                |
   |                       |                                                              | -  **vpn**: VPN gateway                                                                                                                                                                                        |
   |                       |                                                              |                                                                                                                                                                                                                |
   |                       |                                                              | -  **vpc**: VPC                                                                                                                                                                                                |
   |                       |                                                              |                                                                                                                                                                                                                |
   |                       |                                                              | -  **cfw**: CFW instance                                                                                                                                                                                       |
   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | resource_project_id   | String                                                       | ID of the project that the resource belongs to                                                                                                                                                                 |
   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | ipv6_enable           | Boolean                                                      | Whether to enable IPv6. The value **false** indicates that IPv6 is disabled, and the value **true** indicates that IPv6 is enabled. This parameter is not supported.                                           |
   +-----------------------+--------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _updateattachment__response_tag:

.. table:: **Table 6** Tag

   +-----------------------+-----------------------+------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                              |
   +=======================+=======================+==========================================================================================+
   | key                   | String                | Tag key. The key:                                                                        |
   |                       |                       |                                                                                          |
   |                       |                       | -  Can contain UTF-8 letters, digits, spaces, and the following characters: ``_.:=+-@.`` |
   |                       |                       |                                                                                          |
   |                       |                       | -  Cannot start with *sys* because it indicates a system tag.                            |
   |                       |                       |                                                                                          |
   |                       |                       | -  Cannot be empty (the length cannot be 0).                                             |
   |                       |                       |                                                                                          |
   |                       |                       | -  Can contain 1 to 128 characters.                                                      |
   |                       |                       |                                                                                          |
   |                       |                       | Minimum: **1**                                                                           |
   |                       |                       |                                                                                          |
   |                       |                       | Maximum: **128**                                                                         |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------+
   | value                 | String                | Tag value. The value:                                                                    |
   |                       |                       |                                                                                          |
   |                       |                       | -  Can contain UTF-8 letters, digits, spaces, and the following characters: ``_.:=+-@.`` |
   |                       |                       |                                                                                          |
   |                       |                       | -  Can be empty or null.                                                                 |
   |                       |                       |                                                                                          |
   |                       |                       | -  Can contain 0 to 255 characters.                                                      |
   |                       |                       |                                                                                          |
   |                       |                       | Minimum: **0**                                                                           |
   |                       |                       |                                                                                          |
   |                       |                       | Maximum: **255**                                                                         |
   +-----------------------+-----------------------+------------------------------------------------------------------------------------------+

Example Requests
----------------

Updating an attachment (not a VPC attachment)

.. code-block:: text

   PUT https://{erouter_endpoint}/v3/08d5a9564a704afda6039ae2babbef3c/enterprise-router/212d3f0b-8496-472d-bc99-05a7c96d6655/attachments/b70aee08-c671-4cad-9fd5-7381d163bcc8

   {
     "attachment" : {
       "name" : "attachment",
       "description" : "attachment"
     }
   }

Example Responses
-----------------

**Status code: 200**

OK

.. code-block::

   {
     "attachment" : {
       "id" : "b70aee08-c671-4cad-9fd5-7381d163bcc8",
       "name" : "attachment",
       "description" : "attachment",
       "state" : "available",
       "created_at" : "2020-03-11T15:13:31Z",
       "updated_at" : "2020-03-11T15:13:31Z",
       "project_id" : "08d5a9564a704afda6039ae2babbef3c",
       "resource_id" : "b715e131-3371-4e17-a2de-4f669e24439a",
       "resource_type" : "vpc",
       "resource_project_id" : "0605767a9980d5762fbcc00b3537e757"
     },
     "request_id" : "915a14a6-867b-4af7-83d1-70efceb146f9"
   }

Status Codes
------------

=========== ===========
Status Code Description
=========== ===========
200         OK
=========== ===========

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
