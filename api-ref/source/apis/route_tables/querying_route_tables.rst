:original_name: ListRouteTables.html

.. _ListRouteTables:

Querying Route Tables
=====================

Function
--------

This API is used to query route tables.

Constraints
-----------

-  Pagination query is supported. The supported query criteria are **state**, **is_default_propagation_route_table**, and **is_default_association_route_table**.

-  Only sorting by a single field (**id**, **name**, **description**, **created_at**, or **updated_at**) is supported.

URI
---

GET /v3/{project_id}/enterprise-router/{er_id}/route-tables

.. table:: **Table 1** Path Parameters

   ========== ========= ====== ====================
   Parameter  Mandatory Type   Description
   ========== ========= ====== ====================
   project_id Yes       String Project ID
   er_id      Yes       String Enterprise router ID
   ========== ========= ====== ====================

.. table:: **Table 2** Query Parameters

   +------------------------------+-----------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                    | Mandatory       | Type             | Description                                                                                                                                                         |
   +==============================+=================+==================+=====================================================================================================================================================================+
   | limit                        | No              | Integer          | Number of records on each page. Value range: **0** to **2000**                                                                                                      |
   |                              |                 |                  |                                                                                                                                                                     |
   |                              |                 |                  | Minimum: **0**                                                                                                                                                      |
   |                              |                 |                  |                                                                                                                                                                     |
   |                              |                 |                  | Maximum: **2000**                                                                                                                                                   |
   +------------------------------+-----------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | marker                       | No              | String           | ID of the last enterprise router on the previous page. If this parameter is left blank, the first page is queried. This parameter must be used together with limit. |
   |                              |                 |                  |                                                                                                                                                                     |
   |                              |                 |                  | Minimum: **1**                                                                                                                                                      |
   |                              |                 |                  |                                                                                                                                                                     |
   |                              |                 |                  | Maximum: **128**                                                                                                                                                    |
   +------------------------------+-----------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | state                        | No              | Array of strings | Status                                                                                                                                                              |
   +------------------------------+-----------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | is_default_propagation_table | No              | Boolean          | Whether the route table is the default propagation route table                                                                                                      |
   +------------------------------+-----------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | is_default_association_table | No              | Boolean          | Whether the route table is the default association route table                                                                                                      |
   +------------------------------+-----------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | sort_key                     | No              | Array of strings | Keyword for sorting. The keyword can be **id**, **name**, or **state**. By default, **id** is used.                                                                 |
   +------------------------------+-----------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | sort_dir                     | No              | Array of strings | Sorting order. There are two value options: **asc** (ascending order) and **desc** (descending order). The default value is **asc**.                                |
   +------------------------------+-----------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Request Parameters
------------------

None

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 3** Response body parameters

   +--------------+---------------------------------------------------------------------------+------------------------------+
   | Parameter    | Type                                                                      | Description                  |
   +==============+===========================================================================+==============================+
   | route_tables | Array of :ref:`RouteTable <listroutetables__response_routetable>` objects | Route tables                 |
   +--------------+---------------------------------------------------------------------------+------------------------------+
   | request_id   | String                                                                    | Request ID                   |
   +--------------+---------------------------------------------------------------------------+------------------------------+
   | page_info    | :ref:`PageInfo <listroutetables__response_pageinfo>` object               | Pagination query information |
   +--------------+---------------------------------------------------------------------------+------------------------------+

.. _listroutetables__response_routetable:

.. table:: **Table 4** RouteTable

   +------------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------------+
   | Parameter              | Type                                                            | Description                                                                            |
   +========================+=================================================================+========================================================================================+
   | id                     | String                                                          | Route table ID                                                                         |
   +------------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------------+
   | name                   | String                                                          | Route table name                                                                       |
   +------------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------------+
   | description            | String                                                          | Supplementary information                                                              |
   +------------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------------+
   | is_default_association | Boolean                                                         | Whether the route table is the default association route table.                        |
   |                        |                                                                 |                                                                                        |
   |                        |                                                                 | Default: **false**                                                                     |
   +------------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------------+
   | is_default_propagation | Boolean                                                         | Whether the route table is the default propagation route table.                        |
   +------------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------------+
   | state                  | String                                                          | Route table status. The value can be pending, available, deleting, deleted, or failed. |
   +------------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------------+
   | tags                   | Array of :ref:`Tag <listroutetables__response_tag>` objects     | Tag                                                                                    |
   +------------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------------+
   | bgp_options            | :ref:`BgpOptions <listroutetables__response_bgpoptions>` object | BGP route selection parameters. This parameter is not supported for now.               |
   +------------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------------+
   | created_at             | String                                                          | Creation time in the format YYYY-MM-DDTHH:mm:ss.sssZ                                   |
   +------------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------------+
   | updated_at             | String                                                          | Update time in the format YYYY-MM-DDTHH:mm:ss.sssZ                                     |
   +------------------------+-----------------------------------------------------------------+----------------------------------------------------------------------------------------+

.. _listroutetables__response_tag:

.. table:: **Table 5** Tag

   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                                                                                                                                                      |
   +=======================+=======================+==================================================================================================================================================================================================+
   | key                   | String                | Tag key. The value contain up to 128 characters (36 characters on the console), including uppercase letters, lowercase letters, digits, hyphens (-), underscores (_), and at signs (@).          |
   |                       |                       |                                                                                                                                                                                                  |
   |                       |                       | Minimum: **1**                                                                                                                                                                                   |
   |                       |                       |                                                                                                                                                                                                  |
   |                       |                       | Maximum: **128**                                                                                                                                                                                 |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | value                 | String                | Tag value. The value contain up to 128 characters in API (43 characters on the console), including uppercase letters, lowercase letters, digits, hyphens (-), underscores (_), and at signs (@). |
   |                       |                       |                                                                                                                                                                                                  |
   |                       |                       | Minimum: **0**                                                                                                                                                                                   |
   |                       |                       |                                                                                                                                                                                                  |
   |                       |                       | Maximum: **128**                                                                                                                                                                                 |
   +-----------------------+-----------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _listroutetables__response_bgpoptions:

.. table:: **Table 6** BgpOptions

   +-------------------------------+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter                     | Type    | Description                                                                                                                                         |
   +===============================+=========+=====================================================================================================================================================+
   | load_balancing_as_path_ignore | Boolean | BGP option to specify that AS-Path attributes are not compared during load balancing. This parameter is not supported for now.                      |
   +-------------------------------+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | load_balancing_as_path_relax  | Boolean | BGP option to specify that AS-Path attributes with the same length are not compared during load balancing. This parameter is not supported for now. |
   +-------------------------------+---------+-----------------------------------------------------------------------------------------------------------------------------------------------------+

.. _listroutetables__response_pageinfo:

.. table:: **Table 7** PageInfo

   +---------------+---------+-------------------------------------------------------------------------------------------------------------------+
   | Parameter     | Type    | Description                                                                                                       |
   +===============+=========+===================================================================================================================+
   | next_marker   | String  | Marker of the next page. The value is the resource UUID. If the value is empty, the resource is on the last page. |
   +---------------+---------+-------------------------------------------------------------------------------------------------------------------+
   | current_count | Integer | Number of resources in the list                                                                                   |
   +---------------+---------+-------------------------------------------------------------------------------------------------------------------+

Example Requests
----------------

.. code-block:: text

   GET https://{erouter_endpoint}/v3/08d5a9564a704afda6039ae2babbef3c/enterprise-router/915a14a6-867b-4af7-83d1-70efceb146f5/route-tables

Example Responses
-----------------

**Status code: 200**

OK

.. code-block::

   {
     "route_tables" : [ {
       "id" : "4ab54142-7c92-48ad-8288-77727a231052",
       "is_default_association" : false,
       "is_default_propagation" : false,
       "name" : "my-router-table1",
       "description" : "rtb-for-a",
       "state" : "available",
       "tags" : [ {
         "key" : "key",
         "value" : "value"
       } ]
     }, {
       "id" : "4ab54142-7c92-48ad-8288-77727a231053",
       "is_default_association" : false,
       "is_default_propagation" : false,
       "name" : "my-router-table2",
       "description" : "rtb-for-b",
       "state" : "available",
       "tags" : [ {
         "key" : "key",
         "value" : "value"
       } ]
     } ],
     "page_info" : {
       "next_marker" : "1",
       "current_count" : 2
     },
     "request_id" : "915a14a6-867b-4af7-83d1-70efceb146f9"
   }

Status Codes
------------

=========== ===========
Status Code Description
=========== ===========
200         OK
=========== ===========

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
